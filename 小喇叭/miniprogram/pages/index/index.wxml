  <view class="padding bg-white">
    <view class="flex animated fadeInDown" >
      <view class="flex-treble padding-sm margin-xs radius">
        <text class="text-black text-xxl text " catchtap='roll'>SHSID小喇叭</text>
      </view>
      <view class="flex-sm padding-sm margin-xs radius" bindtap='easterEgg' data-pagename="self">
        <view class="cu-avatar round" style="background-image:url({{userInfo.avatarUrl}}); margin-left:10rpx;"></view>
      </view>
    </view>
        </view>

<calendar class="padding-lg" style="margin-left: 10px; margin-right: 10px; margin-top:20px;" calendarConfig="{{calendarConfig}}" bind:afterTapDay="afterTapDay" bind:whenChangeMonth="whenChangeMonth" bind:afterCalendarRender="afterCalendarRender"></calendar>

 <block wx:if='{{hasSchedules}}' wx:key="">
  <view class="cu-list menu {{menuBorder?'sm-border':''}} {{menuCard?'card-menu margin-top':''}}">
    <view class="cu-item {{menuArrow?'arrow':''}}" wx:for = "{{schedules}}">
      <view class="content">
        <text class="text-grey">{{item.Time}} {{item.description}}</text>
      </view>
      <view class="action">
          <form bindsubmit="setAlarm" report-submit="true" id="{{item._id}}">
        <button class="cu-btn round bg-green shadow" style="margin-right:10px;" form-type="submit">
          <text class="cuIcon-notice"></text> 设置提醒</button>
    </form>
      </view>
    </view>
  </view>
  </block>

<view class="flex align-center justify-center">
  <button wx:if="{{isTeacher == true}}" class='cu-btn lg bg-green' bindtap='showNewActivity'>
    <text class="cuIcon-add text-white"></text>
    <text>添加活动</text>
  </button>
</view>

<view class="cu-modal {{modalName=='registerModal'?'show':''}}">
  <view class="cu-dialog bg-white">
    <view class="cu-bar bg-white justify-end">
      <view class="content">注册</view>
      <view class="action" bindtap="hideModal">
        <text class="cuIcon-close text-red"></text>
      </view>
    </view>
    <view class="padding-xl">
      第一次打开小程序需要注册嗷
    </view>
    <view class="cu-bar bg-white justify-center">
        <form>
          <view class="cu-form-group margin-top">
            <view class="title">年级</view>
            <picker bindchange="PickerChange" value="{{gradeIndex}}" range="{{gradePicker}}">
              <view class="picker">
                {{gradePicker[gradeIndex]}}
              </view>
            </picker>
          </view>
          <view class="cu-form-group">
            <view class="title">班级</view>
            <input placeholder="IB的1A和1B都填写1哦" bindinput='getClass' type='number'></input>
          </view>
          <view class="cu-form-group">
            <view class="title">学号</view>
            <input placeholder="把你的学号也给我交了" bindinput='getCode'></input>
          </view>
          <view class="cu-form-group">
            <view class="title">代码</view>
            <input placeholder="最后输入你手上的代码" bindinput='getValidation'></input>
          </view>
        </form>
      </view>
    <view class="padding-xl">
      <button class='cu-btn bg-green lg' bindgetuserinfo='register' open-type="getUserInfo">注册</button>
    </view>
  </view>
</view>

<view class="cu-modal {{modalName=='newActivityModal'?'show':''}}">
  <view class="cu-dialog bg-white">
    <view class="cu-bar bg-white justify-end">
      <view class="content">新建活动信息</view>
      <view class="action" bindtap="hideModal">
        <text class="cuIcon-close text-red"></text>
      </view>
    </view>
    <view class="cu-bar bg-white justify-center">
        <form>
        <view class="cu-form-group margin-top">
          <view class="title">时间选择</view>
          <picker mode="time" value="{{time}}" start="09:01" end="21:01" bindchange="TimeChange">
            <view class="picker">
              {{time}}
            </view>
          </picker>
        </view>
         <view class="cu-form-group">
          <view class="title">日期选择</view>
          <picker mode="date" value="{{date}}" start="2015-09-01" end="2020-09-01" bindchange="DateChange">
            <view class="picker">
              {{date}}
            </view>
          </picker>
        </view>
        	<view class="cu-form-group">
          		<view class="title">教学楼：{{buildingChosen}}</view>
		<switch class="switch-sex" checked bindchange="buildingChange"></switch>
	</view>
            <view class="cu-form-group">
            <view class="title">教室</view>
            <input placeholder="输入教室信息" bindinput='getRoom'></input>
          </view>
          <view class="cu-form-group">
            <view class="title">活动信息</view>
            <input placeholder="输入活动信息" bindinput='getDesc'></input>
          </view>
        </form>
      </view>
    <view class="padding-xl">
      <button class='cu-btn bg-green lg' bindtap='addActivity'>提交</button>
    </view>
  </view>
</view>

<canvas catchtap="miao" id="test-canvas" canvas-id="test-canvas"></canvas>

  <view class="padding-xs flex align-center bg-white">
    <view class="flex-sub text-center">
      <view class="solid-top text-xs padding">
        <text class="text-gray" >Powered By QioNio - A basic yet complete O2O solution \n \n </text>
      </view>
    </view>
  </view>